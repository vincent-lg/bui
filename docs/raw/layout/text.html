<!DOCTYPE html>
<html lang="en-US">
  <head>
   <meta charset="UTF-8">
    <title>Blind User Interface - layout/text.py</title>
    <meta name="generator" content="Jekyll v3.8.5" />
    <meta property="og:title" content="layout/text.py" />
    <meta property="og:locale" content="en_US" />
    <meta name="description" content="layout/text.py" />
    <meta property="og:description" content="layout/text.py" />
    <link rel="canonical" href="https://vincent-lg.github.io/bui/layout/text.html" />
    <meta property="og:url" content="https://vincent-lg.github.io/bui/layout/text.html" />
    <meta property="og:site_name" content="bui" />
    <script type="application/ld+json">
    {"@type":"WebSite","headline":"Blind User Interface - layout/text.py","url":"https://vincent-lg.github.io/bui/layout/text.html","name":"layout/text.py","description":"layout/text.py","@context":"http://schema.org"}</script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="theme-color" content="#157878">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <link rel="stylesheet" href="/bui/assets/css/style.css?v=1c99addae22d0f201ec863ee092d1195efd935b8">
  </head>
  <body>
    <div>
      <span style="white-space: pre;"><a id="L1"></a>"""Text object represented in layout."""</span><br />
      <span style="white-space: pre;"><a id="L2"></a></span><br />
      <span style="white-space: pre;"><a id="L3"></a>from bui.layout.attr import Attr</span><br />
      <span style="white-space: pre;"><a id="L4"></a>from bui.layout.component import Component</span><br />
      <span style="white-space: pre;"><a id="L5"></a></span><br />
      <span style="white-space: pre;"><a id="L6"></a>class Text(Component):</span><br />
      <span style="white-space: pre;"><a id="L7"></a></span><br />
      <span style="white-space: pre;"><a id="L8"></a>    r"""</span><br />
      <span style="white-space: pre;"><a id="L9"></a>    Create a text area on the interface.</span><br />
      <span style="white-space: pre;"><a id="L10"></a></span><br />
      <span style="white-space: pre;"><a id="L11"></a>    A text is a text area (or text input) on the [window](./window.md).</span><br />
      <span style="white-space: pre;"><a id="L12"></a>    The user can write in it, except if the text is disabled, and controls</span><br />
      <span style="white-space: pre;"><a id="L13"></a>    allow to react if the text is modified, selected, and more.</span><br />
      <span style="white-space: pre;"><a id="L14"></a></span><br />
      <span style="white-space: pre;"><a id="L15"></a>    ```</span><br />
      <span style="white-space: pre;"><a id="L16"></a>    &lt;window title="Test"&gt;</span><br />
      <span style="white-space: pre;"><a id="L17"></a>      &lt;text x=1 y=3&gt;Enter something here&lt;/text&gt;</span><br />
      <span style="white-space: pre;"><a id="L18"></a>      ...</span><br />
      <span style="white-space: pre;"><a id="L19"></a>    &lt;/window&gt;</span><br />
      <span style="white-space: pre;"><a id="L20"></a>    ```</span><br />
      <span style="white-space: pre;"><a id="L21"></a></span><br />
      <span style="white-space: pre;"><a id="L22"></a>    &gt; Note: the text label (placed in the tag data) is mandatory.  It</span><br />
      <span style="white-space: pre;"><a id="L23"></a>      is required for any text area to have a label.  This requirement</span><br />
      <span style="white-space: pre;"><a id="L24"></a>      is a constraint placed on accessibility (no text area should be</span><br />
      <span style="white-space: pre;"><a id="L25"></a>      unlabelled, screen readers won't be able to report it correctly</span><br />
      <span style="white-space: pre;"><a id="L26"></a>      otherwise).  What you can do however is decide where this label</span><br />
      <span style="white-space: pre;"><a id="L27"></a>      will be situated in regard to the text area itself.  See the</span><br />
      <span style="white-space: pre;"><a id="L28"></a>      [tag attributes](#attributes) for details.</span><br />
      <span style="white-space: pre;"><a id="L29"></a></span><br />
      <span style="white-space: pre;"><a id="L30"></a>    The text identifier (ID) is not mandatory.  However, if not set,</span><br />
      <span style="white-space: pre;"><a id="L31"></a>    the text label will be used.</span><br />
      <span style="white-space: pre;"><a id="L32"></a></span><br />
      <span style="white-space: pre;"><a id="L33"></a>    ## Attributes</span><br />
      <span style="white-space: pre;"><a id="L34"></a></span><br />
      <span style="white-space: pre;"><a id="L35"></a>    | Name         | Required | Description              | Example     |</span><br />
      <span style="white-space: pre;"><a id="L36"></a>    | ------------ | -------- | ------------------------ | ----------- |</span><br />
      <span style="white-space: pre;"><a id="L37"></a>    | `x`          | Yes      | The widget's horizontal  | `&lt;text  |</span><br />
      <span style="white-space: pre;"><a id="L38"></a>    |              |          | position in columns (0   | x=5&gt;`       |</span><br />
      <span style="white-space: pre;"><a id="L39"></a>    |              |          | is left). This position  |             |</span><br />
      <span style="white-space: pre;"><a id="L40"></a>    |              |          | is relative to the       |             |</span><br />
      <span style="white-space: pre;"><a id="L41"></a>    |              |          | window width.            |             |</span><br />
      <span style="white-space: pre;"><a id="L42"></a>    | `y`          | Yes      | The widget's vertical    | `&lt;text  |</span><br />
      <span style="white-space: pre;"><a id="L43"></a>    |              |          | position in rows (0      | y=2&gt;`       |</span><br />
      <span style="white-space: pre;"><a id="L44"></a>    |              |          | is at the top). This     |             |</span><br />
      <span style="white-space: pre;"><a id="L45"></a>    |              |          | position is relative to  |             |</span><br />
      <span style="white-space: pre;"><a id="L46"></a>    |              |          | the window height.       |             |</span><br />
      <span style="white-space: pre;"><a id="L47"></a>    | `width`      | No       | The widget width, that   | `&lt;text      |</span><br />
      <span style="white-space: pre;"><a id="L48"></a>    |              |          | is, the number of        | width=2&gt;`   |</span><br />
      <span style="white-space: pre;"><a id="L49"></a>    |              |          | columns it will use in   |             |</span><br />
      <span style="white-space: pre;"><a id="L50"></a>    |              |          | the window grid. A       |             |</span><br />
      <span style="white-space: pre;"><a id="L51"></a>    |              |          | widget with a width of   |             |</span><br />
      <span style="white-space: pre;"><a id="L52"></a>    |              |          | 2 will stretch one       |             |</span><br />
      <span style="white-space: pre;"><a id="L53"></a>    |              |          | additional column to the |             |</span><br />
      <span style="white-space: pre;"><a id="L54"></a>    |              |          | right. A widget with `x` |             |</span><br />
      <span style="white-space: pre;"><a id="L55"></a>    |              |          | set to 2 and `width` set |             |</span><br />
      <span style="white-space: pre;"><a id="L56"></a>    |              |          | to 3 will span `x=2`,    |             |</span><br />
      <span style="white-space: pre;"><a id="L57"></a>    |              |          | `x=3`, and `x=4`.  The   |             |</span><br />
      <span style="white-space: pre;"><a id="L58"></a>    |              |          | default is 1, so a       |             |</span><br />
      <span style="white-space: pre;"><a id="L59"></a>    |              |          | widget will remain in    |             |</span><br />
      <span style="white-space: pre;"><a id="L60"></a>    |              |          | its `x` column.          |             |</span><br />
      <span style="white-space: pre;"><a id="L61"></a>    | `height`     | No       | The widget height, that  | `&lt;text      |</span><br />
      <span style="white-space: pre;"><a id="L62"></a>    |              |          | is, the number of        | height=2&gt;`  |</span><br />
      <span style="white-space: pre;"><a id="L63"></a>    |              |          | rows it will use in      |             |</span><br />
      <span style="white-space: pre;"><a id="L64"></a>    |              |          | the window grid. A       |             |</span><br />
      <span style="white-space: pre;"><a id="L65"></a>    |              |          | widget with a height of  |             |</span><br />
      <span style="white-space: pre;"><a id="L66"></a>    |              |          | 2 will stretch one       |             |</span><br />
      <span style="white-space: pre;"><a id="L67"></a>    |              |          | additional row downward. |             |</span><br />
      <span style="white-space: pre;"><a id="L68"></a>    |              |          | A widget with `y` set    |             |</span><br />
      <span style="white-space: pre;"><a id="L69"></a>    |              |          | to 2 and `height` set    |             |</span><br />
      <span style="white-space: pre;"><a id="L70"></a>    |              |          | to 3 will span `y=2`,    |             |</span><br />
      <span style="white-space: pre;"><a id="L71"></a>    |              |          | `y=3`, and `y=4`.  The   |             |</span><br />
      <span style="white-space: pre;"><a id="L72"></a>    |              |          | default is 1, so a       |             |</span><br />
      <span style="white-space: pre;"><a id="L73"></a>    |              |          | widget will remain in    |             |</span><br />
      <span style="white-space: pre;"><a id="L74"></a>    |              |          | its `y` row.             |             |</span><br />
      <span style="white-space: pre;"><a id="L75"></a>    | `id`         | No       | The text identifier      | `&lt;text      |</span><br />
      <span style="white-space: pre;"><a id="L76"></a>    |              |          | (ID). If not set,        | id=name&gt;`   |</span><br />
      <span style="white-space: pre;"><a id="L77"></a>    |              |          | the text label.          |             |</span><br />
      <span style="white-space: pre;"><a id="L78"></a>    | `value`      | No       | The default value of     | `&lt;text      |</span><br />
      <span style="white-space: pre;"><a id="L79"></a>    |              |          | the text widget.         | value=Me&gt;`  |</span><br />
      <span style="white-space: pre;"><a id="L80"></a>    | `multiline`  | No       | If present, set the text | `&lt;text      |</span><br />
      <span style="white-space: pre;"><a id="L81"></a>    |              |          | on multiple lines.       | multiline&gt;` |</span><br />
      <span style="white-space: pre;"><a id="L82"></a>    | `read-only`  | No       | If present, the text     | `&lt;text      |</span><br />
      <span style="white-space: pre;"><a id="L83"></a>    |              |          | field will be read-only, | read-only&gt;` |</span><br />
      <span style="white-space: pre;"><a id="L84"></a>    |              |          | forbiding the user to    |             |</span><br />
      <span style="white-space: pre;"><a id="L85"></a>    |              |          | edit it. The text value  |             |</span><br />
      <span style="white-space: pre;"><a id="L86"></a>    |              |          | will still be editable   |             |</span><br />
      <span style="white-space: pre;"><a id="L87"></a>    |              |          | through code. Due to     |             |</span><br />
      <span style="white-space: pre;"><a id="L88"></a>    |              |          | system constraints, this |             |</span><br />
      <span style="white-space: pre;"><a id="L89"></a>    |              |          | behavior cannot be       |             |</span><br />
      <span style="white-space: pre;"><a id="L90"></a>    |              |          | altered, once set, a     |             |</span><br />
      <span style="white-space: pre;"><a id="L91"></a>    |              |          | read-only text cannot be |             |</span><br />
      <span style="white-space: pre;"><a id="L92"></a>    |              |          | turned back into an      |             |</span><br />
      <span style="white-space: pre;"><a id="L93"></a>    |              |          | editable one. Also note  |             |</span><br />
      <span style="white-space: pre;"><a id="L94"></a>    |              |          | that screen readers will |             |</span><br />
      <span style="white-space: pre;"><a id="L95"></a>    |              |          | probably ignore a        |             |</span><br />
      <span style="white-space: pre;"><a id="L96"></a>    |              |          | read-only text field and |             |</span><br />
      <span style="white-space: pre;"><a id="L97"></a>    |              |          | forbid to focus one, so  |             |</span><br />
      <span style="white-space: pre;"><a id="L98"></a>    |              |          | make sure this field     |             |</span><br />
      <span style="white-space: pre;"><a id="L99"></a>    |              |          | doesn't contain vital    |             |</span><br />
      <span style="white-space: pre;"><a id="L100"></a>    |              |          | information.             |             |</span><br />
      <span style="white-space: pre;"><a id="L101"></a></span><br />
      <span style="white-space: pre;"><a id="L102"></a>    The required attributes are `x`, and `y`.  It is recommended to also</span><br />
      <span style="white-space: pre;"><a id="L103"></a>    set an `id` although the shortened label (only lowercase</span><br />
      <span style="white-space: pre;"><a id="L104"></a>    letters will be used, spaces turned into the underscore) will be</span><br />
      <span style="white-space: pre;"><a id="L105"></a>    given if the `id` attribute is not set.</span><br />
      <span style="white-space: pre;"><a id="L106"></a></span><br />
      <span style="white-space: pre;"><a id="L107"></a>        &lt;text x=2 y=5&gt;First namme:&lt;/text&gt;</span><br />
      <span style="white-space: pre;"><a id="L108"></a></span><br />
      <span style="white-space: pre;"><a id="L109"></a>    (This will set a text with `id` of "first_name".)</span><br />
      <span style="white-space: pre;"><a id="L110"></a></span><br />
      <span style="white-space: pre;"><a id="L111"></a>    The text label can contain a translatable field.  In this case,</span><br />
      <span style="white-space: pre;"><a id="L112"></a>    giving the text an ID is recommended.</span><br />
      <span style="white-space: pre;"><a id="L113"></a></span><br />
      <span style="white-space: pre;"><a id="L114"></a>    ## Data</span><br />
      <span style="white-space: pre;"><a id="L115"></a></span><br />
      <span style="white-space: pre;"><a id="L116"></a>    A text tag will be turned into a [Text](../../widget/Text.md)</span><br />
      <span style="white-space: pre;"><a id="L117"></a>    object.  You can access and modify its attributes in a control method.</span><br />
      <span style="white-space: pre;"><a id="L118"></a></span><br />
      <span style="white-space: pre;"><a id="L119"></a>    | Attribute      | Meaning and type | Example                     |</span><br />
      <span style="white-space: pre;"><a id="L120"></a>    | -------------- | ---------------- | --------------------------- |</span><br />
      <span style="white-space: pre;"><a id="L121"></a>    | `label`        | The label (str)  | `self.label = "Last name:"` |</span><br />
      <span style="white-space: pre;"><a id="L122"></a>    | `value`        | The content of   | `print(self.value)`         |</span><br />
      <span style="white-space: pre;"><a id="L123"></a>    |                | this text (str)  |                             |</span><br />
      <span style="white-space: pre;"><a id="L124"></a>    | `enabled`      | On or off (bool) | `print(self.enabled)`       |</span><br />
      <span style="white-space: pre;"><a id="L125"></a>    |                | Cannot be set.   |                             |</span><br />
      <span style="white-space: pre;"><a id="L126"></a>    | `disabled`     | On or off (bool) | `print(self.disabled)`      |</span><br />
      <span style="white-space: pre;"><a id="L127"></a>    |                | Cannot be set.   |                             |</span><br />
      <span style="white-space: pre;"><a id="L128"></a>    | `cursor`       | Cursor object.   | `print(self.cursor.pos)`    |</span><br />
      <span style="white-space: pre;"><a id="L129"></a></span><br />
      <span style="white-space: pre;"><a id="L130"></a>    &gt; Use the `value` attribute to read or modify the text content:</span><br />
      <span style="white-space: pre;"><a id="L131"></a></span><br />
      <span style="white-space: pre;"><a id="L132"></a>        class Example(Window):</span><br />
      <span style="white-space: pre;"><a id="L133"></a></span><br />
      <span style="white-space: pre;"><a id="L134"></a>            layout = mark('''</span><br />
      <span style="white-space: pre;"><a id="L135"></a>              &lt;window title="Introduce yourself"&gt;</span><br />
      <span style="white-space: pre;"><a id="L136"></a>                &lt;text x=2 y=0 id="first_name"&gt;Enter your first name:&lt;/text&gt;</span><br />
      <span style="white-space: pre;"><a id="L137"></a>                &lt;button x=0 y=4 name="OK" /&gt;</span><br />
      <span style="white-space: pre;"><a id="L138"></a>                &lt;button x=2 y=4 name="Cancel" /&gt;</span><br />
      <span style="white-space: pre;"><a id="L139"></a>              &lt;/window&gt;</span><br />
      <span style="white-space: pre;"><a id="L140"></a>            ''')</span><br />
      <span style="white-space: pre;"><a id="L141"></a></span><br />
      <span style="white-space: pre;"><a id="L142"></a>            def on_ok(self):</span><br />
      <span style="white-space: pre;"><a id="L143"></a>                first_name = self["first_name"].value</span><br />
      <span style="white-space: pre;"><a id="L144"></a>                # 'first_name' will be a str with unix-style line breaks</span><br />
      <span style="white-space: pre;"><a id="L145"></a></span><br />
      <span style="white-space: pre;"><a id="L146"></a>    &gt; Note: `value` will get the content of the text area and make sure</span><br />
      <span style="white-space: pre;"><a id="L147"></a>      the line breaks inside this content are unix-liked (a simple `\n`,</span><br />
      <span style="white-space: pre;"><a id="L148"></a>      not `\r\n` or `\r`).</span><br />
      <span style="white-space: pre;"><a id="L149"></a></span><br />
      <span style="white-space: pre;"><a id="L150"></a>    These attributes can be accessed and set using the standard Python</span><br />
      <span style="white-space: pre;"><a id="L151"></a>    syntax for attributes.  Behind the scenes, these attributes are cached,</span><br />
      <span style="white-space: pre;"><a id="L152"></a>    handled by an extended `property()`, but you don't really need to</span><br />
      <span style="white-space: pre;"><a id="L153"></a>    worry about how it works.  Consider the following example:</span><br />
      <span style="white-space: pre;"><a id="L154"></a></span><br />
      <span style="white-space: pre;"><a id="L155"></a>        class Example(Window):</span><br />
      <span style="white-space: pre;"><a id="L156"></a></span><br />
      <span style="white-space: pre;"><a id="L157"></a>            def on_click_ok(self, widget):</span><br />
      <span style="white-space: pre;"><a id="L158"></a>                '''The OK button was clicked.'''</span><br />
      <span style="white-space: pre;"><a id="L159"></a>                widget = this["first_name"] # admitting first_name is a text</span><br />
      <span style="white-space: pre;"><a id="L160"></a>                widget.label = "First name:"</span><br />
      <span style="white-space: pre;"><a id="L161"></a>                widget.value = "Vincent"</span><br />
      <span style="white-space: pre;"><a id="L162"></a></span><br />
      <span style="white-space: pre;"><a id="L163"></a>    &gt; Changing the label will not change the text ID.  Once set</span><br />
      <span style="white-space: pre;"><a id="L164"></a>      in layout, the ID won't change.</span><br />
      <span style="white-space: pre;"><a id="L165"></a></span><br />
      <span style="white-space: pre;"><a id="L166"></a>    A Text also offers the following methods:</span><br />
      <span style="white-space: pre;"><a id="L167"></a></span><br />
      <span style="white-space: pre;"><a id="L168"></a>    | Name                     | Description                            |</span><br />
      <span style="white-space: pre;"><a id="L169"></a>    | ------------------------ | -------------------------------------- |</span><br />
      <span style="white-space: pre;"><a id="L170"></a>    | `enable()`               | Force the text to be enabled.          |</span><br />
      <span style="white-space: pre;"><a id="L171"></a>    | `disable`                | Force the text to be disabled.         |</span><br />
      <span style="white-space: pre;"><a id="L172"></a></span><br />
      <span style="white-space: pre;"><a id="L173"></a>    For instance:</span><br />
      <span style="white-space: pre;"><a id="L174"></a></span><br />
      <span style="white-space: pre;"><a id="L175"></a>        def on_init(self):</span><br />
      <span style="white-space: pre;"><a id="L176"></a>            '''The window initializes.'''</span><br />
      <span style="white-space: pre;"><a id="L177"></a>            text = window["first_name"]</span><br />
      <span style="white-space: pre;"><a id="L178"></a>            text.disable()</span><br />
      <span style="white-space: pre;"><a id="L179"></a></span><br />
      <span style="white-space: pre;"><a id="L180"></a>    &gt; Note: the `enabled` and `disabled` properties, along with the</span><br />
      <span style="white-space: pre;"><a id="L181"></a>      `enable()` and `disable()` method, allow to change whether</span><br />
      <span style="white-space: pre;"><a id="L182"></a>      a text can be set by the user.  A disabled text (usually</span><br />
      <span style="white-space: pre;"><a id="L183"></a>      grayed out or marked unavailable) cannot be changed by the user.</span><br />
      <span style="white-space: pre;"><a id="L184"></a>      **However**, some screen readers will skip over disabled text without</span><br />
      <span style="white-space: pre;"><a id="L185"></a>      even displaying it.  Make sure to not place vital content</span><br />
      <span style="white-space: pre;"><a id="L186"></a>      in a disabled text.</span><br />
      <span style="white-space: pre;"><a id="L187"></a></span><br />
      <span style="white-space: pre;"><a id="L188"></a>    ### Cursor object</span><br />
      <span style="white-space: pre;"><a id="L189"></a></span><br />
      <span style="white-space: pre;"><a id="L190"></a>    The cursor object can be accessed through the `cursor` read-only</span><br />
      <span style="white-space: pre;"><a id="L191"></a>    attribute of the widget.  A cursor object represents the point at</span><br />
      <span style="white-space: pre;"><a id="L192"></a>    which the cursor (or insertion point) is located.  This object has</span><br />
      <span style="white-space: pre;"><a id="L193"></a>    additional attributes of its own and some methods (see below</span><br />
      <span style="white-space: pre;"><a id="L194"></a>    for examples).</span><br />
      <span style="white-space: pre;"><a id="L195"></a></span><br />
      <span style="white-space: pre;"><a id="L196"></a>    | Attribute     | Name and type        | Example                   |</span><br />
      <span style="white-space: pre;"><a id="L197"></a>    | ------------- | -------------------- | ------------------------- |</span><br />
      <span style="white-space: pre;"><a id="L198"></a>    | `at_begin`    | Yes or no (bool).    | `if cursor.at_begin:`     |</span><br />
      <span style="white-space: pre;"><a id="L199"></a>    |               | Is true if the       |                           |</span><br />
      <span style="white-space: pre;"><a id="L200"></a>    |               | cursor stands at     |                           |</span><br />
      <span style="white-space: pre;"><a id="L201"></a>    |               | the beginning of     |                           |</span><br />
      <span style="white-space: pre;"><a id="L202"></a>    |               | the text widget      |                           |</span><br />
      <span style="white-space: pre;"><a id="L203"></a>    |               | `pos == 0`).         |                           |</span><br />
      <span style="white-space: pre;"><a id="L204"></a>    | `at_end`      | Yes or no (bool).    | `if cursor.at_end:`       |</span><br />
      <span style="white-space: pre;"><a id="L205"></a>    |               | Is true if the       |                           |</span><br />
      <span style="white-space: pre;"><a id="L206"></a>    |               | cursor stands at     |                           |</span><br />
      <span style="white-space: pre;"><a id="L207"></a>    |               | the end of the       |                           |</span><br />
      <span style="white-space: pre;"><a id="L208"></a>    |               | text widget, that    |                           |</span><br />
      <span style="white-space: pre;"><a id="L209"></a>    |               | if typing new        |                           |</span><br />
      <span style="white-space: pre;"><a id="L210"></a>    |               | letters would        |                           |</span><br />
      <span style="white-space: pre;"><a id="L211"></a>    |               | append to the        |                           |</span><br />
      <span style="white-space: pre;"><a id="L212"></a>    |               | current text (`pos   |                           |</span><br />
      <span style="white-space: pre;"><a id="L213"></a>    |               | == len(text)`).      |                           |</span><br />
      <span style="white-space: pre;"><a id="L214"></a>    | `col`         | The current column   | `col = cursor.col`              |</span><br />
      <span style="white-space: pre;"><a id="L215"></a>    |               | number (int),        |                                 |</span><br />
      <span style="white-space: pre;"><a id="L216"></a>    |               | starting from 0.     |                                 |</span><br />
      <span style="white-space: pre;"><a id="L217"></a>    |               | With `lineno`, this  |                                 |</span><br />
      <span style="white-space: pre;"><a id="L218"></a>    |               | helps to represent   |                                 |</span><br />
      <span style="white-space: pre;"><a id="L219"></a>    |               | the cursor position  |                                 |</span><br />
      <span style="white-space: pre;"><a id="L220"></a>    |               | as a 2D position in  |                                 |</span><br />
      <span style="white-space: pre;"><a id="L221"></a>    |               | the text (number of  |                                 |</span><br />
      <span style="white-space: pre;"><a id="L222"></a>    |               | lines from the top,  |                                 |</span><br />
      <span style="white-space: pre;"><a id="L223"></a>    |               | number of columns    |                                 |</span><br />
      <span style="white-space: pre;"><a id="L224"></a>    |               | from the left). This |                                 |</span><br />
      <span style="white-space: pre;"><a id="L225"></a>    |               | attribute is read-   |                                 |</span><br />
      <span style="white-space: pre;"><a id="L226"></a>    |               | only (see the `move` |                                 |</span><br />
      <span style="white-space: pre;"><a id="L227"></a>    |               | method to move the   |                                 |</span><br />
      <span style="white-space: pre;"><a id="L228"></a>    |               | cursor).             |                                 |</span><br />
      <span style="white-space: pre;"><a id="L229"></a>    | `lineno`      | Current line number  | `lineno = cursor.lineno`  |</span><br />
      <span style="white-space: pre;"><a id="L230"></a>    |               | (int) starting from  |                           |</span><br />
      <span style="white-space: pre;"><a id="L231"></a>    |               | 0. This attribute is |                           |</span><br />
      <span style="white-space: pre;"><a id="L232"></a>    |               | read-only, see the   |                                 |</span><br />
      <span style="white-space: pre;"><a id="L233"></a>    |               | `move` method to     |                                 |</span><br />
      <span style="white-space: pre;"><a id="L234"></a>    |               | change the cursor    |                                 |</span><br />
      <span style="white-space: pre;"><a id="L235"></a>    |               | position.            |                                 |</span><br />
      <span style="white-space: pre;"><a id="L236"></a>    | `pos`         | Current cursor       | `text.value[:cursor.pos]` |</span><br />
      <span style="white-space: pre;"><a id="L237"></a>    |               | position (int).      |                           |</span><br />
      <span style="white-space: pre;"><a id="L238"></a>    |               | This position is     |                           |</span><br />
      <span style="white-space: pre;"><a id="L239"></a>    |               | the one of the       |                           |</span><br />
      <span style="white-space: pre;"><a id="L240"></a>    |               | character index      |                           |</span><br />
      <span style="white-space: pre;"><a id="L241"></a>    |               | that will be         |                           |</span><br />
      <span style="white-space: pre;"><a id="L242"></a>    |               | "pushed" when the    |                           |</span><br />
      <span style="white-space: pre;"><a id="L243"></a>    |               | user types, so       |                           |</span><br />
      <span style="white-space: pre;"><a id="L244"></a>    |               | that `pos` is 0 if   |                           |</span><br />
      <span style="white-space: pre;"><a id="L245"></a>    |               | the cursor is at     |                           |</span><br />
      <span style="white-space: pre;"><a id="L246"></a>    |               | the beginning of     |                           |</span><br />
      <span style="white-space: pre;"><a id="L247"></a>    |               | the wdget, and       |                           |</span><br />
      <span style="white-space: pre;"><a id="L248"></a>    |               | `len(text)` if the   |                           |</span><br />
      <span style="white-space: pre;"><a id="L249"></a>    |               | cursor is at the     |                           |</span><br />
      <span style="white-space: pre;"><a id="L250"></a>    |               | very end of the      |                           |</span><br />
      <span style="white-space: pre;"><a id="L251"></a>    |               | text widget. This    |                           |</span><br />
      <span style="white-space: pre;"><a id="L252"></a>    |               | attribute is read-   |                           |</span><br />
      <span style="white-space: pre;"><a id="L253"></a>    |               | only, see the `move` |                                 |</span><br />
      <span style="white-space: pre;"><a id="L254"></a>    |               | method to change the |                                 |</span><br />
      <span style="white-space: pre;"><a id="L255"></a>    |               | cursor position.     |                                 |</span><br />
      <span style="white-space: pre;"><a id="L256"></a>    | `text_after`  | Text from the        | `cursor.text_after`       |</span><br />
      <span style="white-space: pre;"><a id="L257"></a>    |               | cursor position to   |                           |</span><br />
      <span style="white-space: pre;"><a id="L258"></a>    |               | the end of the       |                           |</span><br />
      <span style="white-space: pre;"><a id="L259"></a>    |               | widget, including    |                           |</span><br />
      <span style="white-space: pre;"><a id="L260"></a>    |               | both limits (str).   |                           |</span><br />
      <span style="white-space: pre;"><a id="L261"></a>    |               | It is identical to   |                           |</span><br />
      <span style="white-space: pre;"><a id="L262"></a>    |               | `text[pos:]`.        |                           |</span><br />
      <span style="white-space: pre;"><a id="L263"></a>    |               | If the cursor is     |                           |</span><br />
      <span style="white-space: pre;"><a id="L264"></a>    |               | under the 'o' of     |                           |</span><br />
      <span style="white-space: pre;"><a id="L265"></a>    |               | 'coffee', then       |                           |</span><br />
      <span style="white-space: pre;"><a id="L266"></a>    |               | `cursor.text_after`  |                           |</span><br />
      <span style="white-space: pre;"><a id="L267"></a>    |               | will return          |                           |</span><br />
      <span style="white-space: pre;"><a id="L268"></a>    |               | 'offee'.             |                           |</span><br />
      <span style="white-space: pre;"><a id="L269"></a>    | `text_before` | The text between the | `cursor.text_before`      |</span><br />
      <span style="white-space: pre;"><a id="L270"></a>    |               | beginning of the     |                           |</span><br />
      <span style="white-space: pre;"><a id="L271"></a>    |               | widget and the       |                           |</span><br />
      <span style="white-space: pre;"><a id="L272"></a>    |               | current cursor       |                           |</span><br />
      <span style="white-space: pre;"><a id="L273"></a>    |               | position, not        |                           |</span><br />
      <span style="white-space: pre;"><a id="L274"></a>    |               | including the        |                           |</span><br />
      <span style="white-space: pre;"><a id="L275"></a>    |               | character under the  |                           |</span><br />
      <span style="white-space: pre;"><a id="L276"></a>    |               | cursor. This is      |                           |</span><br />
      <span style="white-space: pre;"><a id="L277"></a>    |               | identical to         |                           |</span><br />
      <span style="white-space: pre;"><a id="L278"></a>    |               | `text[:pos]`. If the |                           |</span><br />
      <span style="white-space: pre;"><a id="L279"></a>    |               | cursor is under the  |                           |</span><br />
      <span style="white-space: pre;"><a id="L280"></a>    |               | 'o' of 'coffee',     |                           |</span><br />
      <span style="white-space: pre;"><a id="L281"></a>    |               | 'cursor.text_before` |                           |</span><br />
      <span style="white-space: pre;"><a id="L282"></a>    |               | will return 'c'.     |                           |</span><br />
      <span style="white-space: pre;"><a id="L283"></a></span><br />
      <span style="white-space: pre;"><a id="L284"></a>    The cursor also has some methods:</span><br />
      <span style="white-space: pre;"><a id="L285"></a></span><br />
      <span style="white-space: pre;"><a id="L286"></a>    | Method  | Signature                | Description                |</span><br />
      <span style="white-space: pre;"><a id="L287"></a>    | ------- | ------------------------ | -------------------------- |</span><br />
      <span style="white-space: pre;"><a id="L288"></a>    | `move`  | `move(pos: int, col:     | Move the cursor. Either    |</span><br />
      <span style="white-space: pre;"><a id="L289"></a>    |         | Optionao[int] = None)`   | specify only one number    |</span><br />
      <span style="white-space: pre;"><a id="L290"></a>    |         |                          | as argument for an         |</span><br />
      <span style="white-space: pre;"><a id="L291"></a>    |         |                          | absolute movement (the     |</span><br />
      <span style="white-space: pre;"><a id="L292"></a>    |         |                          | given position is the      |</span><br />
      <span style="white-space: pre;"><a id="L293"></a>    |         |                          | index of the text in the   |</span><br />
      <span style="white-space: pre;"><a id="L294"></a>    |         |                          | widget), or two numbers    |</span><br />
      <span style="white-space: pre;"><a id="L295"></a>    |         |                          | (`lineno` and `col`) for a |</span><br />
      <span style="white-space: pre;"><a id="L296"></a>    |         |                          | vertical movement taking   |</span><br />
      <span style="white-space: pre;"><a id="L297"></a>    |         |                          | into account the number of |</span><br />
      <span style="white-space: pre;"><a id="L298"></a>    |         |                          | lines and columns.         |</span><br />
      <span style="white-space: pre;"><a id="L299"></a></span><br />
      <span style="white-space: pre;"><a id="L300"></a>    ## Controls</span><br />
      <span style="white-space: pre;"><a id="L301"></a></span><br />
      <span style="white-space: pre;"><a id="L302"></a>    | Control                           | Method       | Description    |</span><br />
      <span style="white-space: pre;"><a id="L303"></a>    | --------------------------------- | ------------ | -------------- |</span><br />
      <span style="white-space: pre;"><a id="L304"></a>    | [change](../../control/change.md) | `on_change`  | The text has   |</span><br />
      <span style="white-space: pre;"><a id="L305"></a>    |                                   |              | been changed,  |</span><br />
      <span style="white-space: pre;"><a id="L306"></a>    |                                   |              | either by the  |</span><br />
      <span style="white-space: pre;"><a id="L307"></a>    |                                   |              | user or the    |</span><br />
      <span style="white-space: pre;"><a id="L308"></a>    |                                   |              | program.       |</span><br />
      <span style="white-space: pre;"><a id="L309"></a>    | [init](../../control/init.md)     | `on_init`    | The text is    |</span><br />
      <span style="white-space: pre;"><a id="L310"></a>    |                                   |              | ready to be    |</span><br />
      <span style="white-space: pre;"><a id="L311"></a>    |                                   |              | displayed, but |</span><br />
      <span style="white-space: pre;"><a id="L312"></a>    |                                   |              | is not         |</span><br />
      <span style="white-space: pre;"><a id="L313"></a>    |                                   |              | displayed yet. |</span><br />
      <span style="white-space: pre;"><a id="L314"></a>    | [press](../../control/press.md)   | `on_press`   | The user       |</span><br />
      <span style="white-space: pre;"><a id="L315"></a>    |                                   |              | pressed on a   |</span><br />
      <span style="white-space: pre;"><a id="L316"></a>    |                                   |              | key of her     |</span><br />
      <span style="white-space: pre;"><a id="L317"></a>    |                                   |              | keyboard while |</span><br />
      <span style="white-space: pre;"><a id="L318"></a>    |                                   |              | the text is    |</span><br />
      <span style="white-space: pre;"><a id="L319"></a>    |                                   |              | focused. This  |</span><br />
      <span style="white-space: pre;"><a id="L320"></a>    |                                   |              | control is     |</span><br />
      <span style="white-space: pre;"><a id="L321"></a>    |                                   |              | triggered      |</span><br />
      <span style="white-space: pre;"><a id="L322"></a>    |                                   |              | before the     |</span><br />
      <span style="white-space: pre;"><a id="L323"></a>    |                                   |              | text is        |</span><br />
      <span style="white-space: pre;"><a id="L324"></a>    |                                   |              | actually       |</span><br />
      <span style="white-space: pre;"><a id="L325"></a>    |                                   |              | modified, and  |</span><br />
      <span style="white-space: pre;"><a id="L326"></a>    |                                   |              | you can        |</span><br />
      <span style="white-space: pre;"><a id="L327"></a>    |                                   |              | prevent the    |</span><br />
      <span style="white-space: pre;"><a id="L328"></a>    |                                   |              | default change |</span><br />
      <span style="white-space: pre;"><a id="L329"></a>    |                                   |              | to the text.   |</span><br />
      <span style="white-space: pre;"><a id="L330"></a></span><br />
      <span style="white-space: pre;"><a id="L331"></a>        class MainWindow(Window):</span><br />
      <span style="white-space: pre;"><a id="L332"></a></span><br />
      <span style="white-space: pre;"><a id="L333"></a>            def on_init_first_name(self, widget):</span><br />
      <span style="white-space: pre;"><a id="L334"></a>                widget.value = "Vincent"</span><br />
      <span style="white-space: pre;"><a id="L335"></a></span><br />
      <span style="white-space: pre;"><a id="L336"></a>    """</span><br />
      <span style="white-space: pre;"><a id="L337"></a></span><br />
      <span style="white-space: pre;"><a id="L338"></a>    tag_name = "text"</span><br />
      <span style="white-space: pre;"><a id="L339"></a>    attrs = (</span><br />
      <span style="white-space: pre;"><a id="L340"></a>        Attr("x", help="The widget horizontal position", type=int),</span><br />
      <span style="white-space: pre;"><a id="L341"></a>        Attr("y", help="The widget vertical position", type=int),</span><br />
      <span style="white-space: pre;"><a id="L342"></a>        Attr("width", help="The widget width", type=int, default=1),</span><br />
      <span style="white-space: pre;"><a id="L343"></a>        Attr("height", help="The widget height", type=int, default=1),</span><br />
      <span style="white-space: pre;"><a id="L344"></a>        Attr("id", help="The widget identifier", default=""),</span><br />
      <span style="white-space: pre;"><a id="L345"></a>        Attr("value", help="The text default value", default=""),</span><br />
      <span style="white-space: pre;"><a id="L346"></a>        Attr("multiline", help="The text is on multiple lines",</span><br />
      <span style="white-space: pre;"><a id="L347"></a>                default=False, if_present=True),</span><br />
      <span style="white-space: pre;"><a id="L348"></a>        Attr("read-only", help="The text is read-only",</span><br />
      <span style="white-space: pre;"><a id="L349"></a>                default=False, if_present=True),</span><br />
      <span style="white-space: pre;"><a id="L350"></a>    )</span><br />
      <span style="white-space: pre;"><a id="L351"></a>    must_have_data = True</span><br />
      <span style="white-space: pre;"><a id="L352"></a></span><br />
      <span style="white-space: pre;"><a id="L353"></a>    def __init__(self, layout, parent, x, y, width=1, height=1, id="",</span><br />
      <span style="white-space: pre;"><a id="L354"></a>            value="", multiline=False, read_only=False):</span><br />
      <span style="white-space: pre;"><a id="L355"></a>        super().__init__(layout, parent)</span><br />
      <span style="white-space: pre;"><a id="L356"></a>        self.x = x</span><br />
      <span style="white-space: pre;"><a id="L357"></a>        self.y = y</span><br />
      <span style="white-space: pre;"><a id="L358"></a>        self.width = width</span><br />
      <span style="white-space: pre;"><a id="L359"></a>        self.height = height</span><br />
      <span style="white-space: pre;"><a id="L360"></a>        self.label = ""</span><br />
      <span style="white-space: pre;"><a id="L361"></a>        self.id = id</span><br />
      <span style="white-space: pre;"><a id="L362"></a>        self.value = value</span><br />
      <span style="white-space: pre;"><a id="L363"></a>        self.multiline = multiline</span><br />
      <span style="white-space: pre;"><a id="L364"></a>        self.read_only = read_only</span><br />
      <span style="white-space: pre;"><a id="L365"></a></span><br />
      <span style="white-space: pre;"><a id="L366"></a>    def complete(self):</span><br />
      <span style="white-space: pre;"><a id="L367"></a>        """Complete the widget, when all the layout has been set."""</span><br />
      <span style="white-space: pre;"><a id="L368"></a>        self.label = self.data</span><br />
      <span style="white-space: pre;"><a id="L369"></a>        if not self.id:</span><br />
      <span style="white-space: pre;"><a id="L370"></a>            self.id = self.deduce_id(self.data)</span><br />
    </div>
  </body>
</html>